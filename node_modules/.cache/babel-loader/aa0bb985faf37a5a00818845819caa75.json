{"remainingRequest":"/Users/user/Documents/dede/movies/node_modules/babel-loader/lib/index.js!/Users/user/Documents/dede/movies/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/user/Documents/dede/movies/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/user/Documents/dede/movies/src/views/Search.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/user/Documents/dede/movies/src/views/Search.vue","mtime":1656700928743},{"path":"/Users/user/Documents/dede/movies/babel.config.js","mtime":1656700928736},{"path":"/Users/user/Documents/dede/movies/node_modules/cache-loader/dist/cjs.js","mtime":1656700998765},{"path":"/Users/user/Documents/dede/movies/node_modules/babel-loader/lib/index.js","mtime":1656701003546},{"path":"/Users/user/Documents/dede/movies/node_modules/cache-loader/dist/cjs.js","mtime":1656700998765},{"path":"/Users/user/Documents/dede/movies/node_modules/vue-loader/lib/index.js","mtime":1656701019304}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEFwaSBmcm9tICcuLi9hcGkvQXBpJzsKaW1wb3J0IENhcmRMb2FkZXIgZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkTG9hZGVyLnZ1ZSc7CmltcG9ydCBNb3ZpZUNhcmQgZnJvbSAnLi4vY29tcG9uZW50cy9Nb3ZpZUNhcmQudnVlJzsKaW1wb3J0IFR2U2hvd0NhcmQgZnJvbSAnLi4vY29tcG9uZW50cy9UdlNob3dDYXJkLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBDYXJkTG9hZGVyLAogICAgTW92aWVDYXJkLAogICAgVHZTaG93Q2FyZAogIH0sCiAgbmFtZTogJ1NlYXJjaCcsCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbWFnZV9jb25maWd1cmF0aW9uOiBudWxsLAogICAgICBzZWFyY2hlZF9tb3ZpZXM6IFtdLAogICAgICBpc19zZWFyY2hlZF9tb3ZpZXNfcmVhZHk6IGZhbHNlLAogICAgICBxdWVyeTogJycKICAgIH07CiAgfSwKCiAgd2F0Y2g6IHsKICAgICckcm91dGUucXVlcnknOiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLiRyb3V0ZS5xdWVyeSkubGVuZ3RoID4gMCkgewogICAgICAgIHRoaXMucXVlcnkgPSB0aGlzLiRyb3V0ZS5xdWVyeS5zZWFyY2g7CiAgICAgICAgdGhpcy5zZWFyY2hNb3ZpZSgpOwogICAgICB9CiAgICB9CiAgfSwKCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0Q29uZmlndXJhdGlvbigpOwogIH0sCgogIG1ldGhvZHM6IHsKICAgIHNlYXJjaE1vdmllKCkgewogICAgICBBcGkuZ2V0KGAvc2VhcmNoL211bHRpYCwgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgcXVlcnk6IHRoaXMucXVlcnkKICAgICAgICB9CiAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhLnJlc3VsdHM7CiAgICAgICAgdGhpcy5zZWFyY2hlZF9tb3ZpZXMgPSBkYXRhOwogICAgICAgIHRoaXMuaXNfc2VhcmNoZWRfbW92aWVzX3JlYWR5ID0gdHJ1ZTsKICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICB0aGlzLmlzX3NlYXJjaGVkX21vdmllc19yZWFkeSA9IGZhbHNlOwogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogICAgfSwKCiAgICBnZXRDb25maWd1cmF0aW9uKCkgewogICAgICBBcGkuZ2V0KGAvY29uZmlndXJhdGlvbmApLnRoZW4ocmVzID0+IHsKICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhLmltYWdlczsKICAgICAgICB0aGlzLmltYWdlX2NvbmZpZ3VyYXRpb24gPSBkYXRhOwogICAgICAgIHRoaXMucXVlcnkgPSB0aGlzLiRyb3V0ZS5xdWVyeS5zZWFyY2g7CiAgICAgICAgdGhpcy5zZWFyY2hNb3ZpZSgpOwogICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogICAgfSwKCiAgICBnZW5lcmF0ZUltYWdlVXJsKGltYWdlLCBiaWcpIHsKICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuaW1hZ2VfY29uZmlndXJhdGlvbjsKCiAgICAgIGlmIChiaWcpIHsKICAgICAgICByZXR1cm4gY29uZmlnLmJhc2VfdXJsICsgY29uZmlnLnBvc3Rlcl9zaXplc1s1XSArIGltYWdlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBjb25maWcuYmFzZV91cmwgKyBjb25maWcucG9zdGVyX3NpemVzWzJdICsgaW1hZ2U7CiAgICAgIH0KICAgIH0KCiAgfQp9Ow=="},{"version":3,"mappings":"AAwBA;AACA;AACA;AACA;AAEA;EACAA;IACAC,UADA;IAEAC,SAFA;IAGAC;EAHA,CADA;EAMAC,cANA;;EAOAC;IACA;MACAC,yBADA;MAEAC,mBAFA;MAGAC,+BAHA;MAIAC;IAJA;EAMA,CAdA;;EAeAC;IACA;MACA;QACA;QACA;MACA;IACA;EANA,CAfA;;EAuBAC;IACA;EACA,CAzBA;;EA0BAC;IACAC;MACAC;QACAC;UACAN;QADA;MADA,GAKAO,IALA,CAKAC;QACA;QACA;QACA;MACA,CATA,EAUAC,KAVA,CAUAC;QACA;QACAC;MACA,CAbA;IAcA,CAhBA;;IAiBAC;MACAP,0BACAE,IADA,CACAC;QACA;QACA;QACA;QACA;MACA,CANA,EAOAC,KAPA,CAOAC;QACAC;MACA,CATA;IAUA,CA5BA;;IA6BAE;MACA;;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA;IACA;;EApCA;AA1BA","names":["components","CardLoader","MovieCard","TvShowCard","name","data","image_configuration","searched_movies","is_searched_movies_ready","query","watch","created","methods","searchMovie","Api","params","then","res","catch","err","console","getConfiguration","generateImageUrl"],"sourceRoot":"src/views","sources":["Search.vue"],"sourcesContent":["<template>\n  <div class=\"page-space\">\n    <div class=\"container\">\n      <h4 class=\"section-title\">\n        Result for '{{ this.query }}'\n      </h4>\n      <div class=\"movies\" v-if=\"is_searched_movies_ready\">\n        <template  v-for=\"movie in searched_movies\" >\n          <template v-if=\"movie.title\">\n            <MovieCard class=\"movie-card\" :movie=\"movie\" :image-configuration=\"image_configuration\"  :key=\"'searched' + movie.id\"/>\n          </template>\n          <template v-else>\n            <TvShowCard class=\"movie-card\" :show=\"movie\" :image-configuration=\"image_configuration\"  :key=\"'searched' + movie.id\"/>\n          </template>\n        </template>\n      </div>\n      <div v-else>\n        <CardLoader />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Api from '../api/Api';\nimport CardLoader from '../components/CardLoader.vue';\nimport MovieCard from '../components/MovieCard.vue';\nimport TvShowCard from '../components/TvShowCard.vue';\n\nexport default {\n  components: {\n    CardLoader,\n    MovieCard,\n    TvShowCard,\n  },\n  name: 'Search',\n  data() {\n    return{\n      image_configuration: null,\n      searched_movies: [],\n      is_searched_movies_ready: false,\n      query: ''\n    }\n  },\n  watch: {\n      '$route.query': function () {\n          if(Object.keys(this.$route.query).length > 0) {\n              this.query = this.$route.query.search\n              this.searchMovie()\n          }\n      },\n  },\n  created() {\n    this.getConfiguration()\n  },\n  methods: {\n    searchMovie() {\n        Api.get(`/search/multi`, {\n          params: {\n            query: this.query\n          }\n        })\n          .then((res) => {\n              var data = res.data.results\n              this.searched_movies = data\n              this.is_searched_movies_ready = true\n          })\n          .catch((err) => {\n              this.is_searched_movies_ready = false\n              console.log(err)\n          })\n    },\n    getConfiguration() {\n      Api.get(`/configuration`)\n          .then((res) => {\n              var data = res.data.images\n              this.image_configuration = data\n              this.query = this.$route.query.search\n              this.searchMovie()\n          })\n          .catch((err) => {\n              console.log(err)\n          })\n    },\n    generateImageUrl(image, big) {\n      var config = this.image_configuration\n      if(big){\n        return config.base_url + config.poster_sizes[5] + image\n      }else{\n        return config.base_url + config.poster_sizes[2] + image\n      }\n    }\n  }\n}\n</script>\n"]}]}