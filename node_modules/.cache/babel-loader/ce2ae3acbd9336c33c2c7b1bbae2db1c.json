{"remainingRequest":"/Users/user/Documents/dede/movies/node_modules/babel-loader/lib/index.js!/Users/user/Documents/dede/movies/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/user/Documents/dede/movies/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/user/Documents/dede/movies/src/views/MyList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/user/Documents/dede/movies/src/views/MyList.vue","mtime":1656799241312},{"path":"/Users/user/Documents/dede/movies/babel.config.js","mtime":1656700928736},{"path":"/Users/user/Documents/dede/movies/node_modules/cache-loader/dist/cjs.js","mtime":1656700998765},{"path":"/Users/user/Documents/dede/movies/node_modules/babel-loader/lib/index.js","mtime":1656701003546},{"path":"/Users/user/Documents/dede/movies/node_modules/cache-loader/dist/cjs.js","mtime":1656700998765},{"path":"/Users/user/Documents/dede/movies/node_modules/vue-loader/lib/index.js","mtime":1656701019304}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEFwaSBmcm9tICcuLi9hcGkvQXBpJzsKaW1wb3J0IENhcmRMb2FkZXIgZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkTG9hZGVyLnZ1ZSc7CmltcG9ydCBNb3ZpZUNhcmQgZnJvbSAnLi4vY29tcG9uZW50cy9Nb3ZpZUNhcmQudnVlJzsKaW1wb3J0IFR2U2hvd0NhcmQgZnJvbSAnLi4vY29tcG9uZW50cy9UdlNob3dDYXJkLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBDYXJkTG9hZGVyLAogICAgTW92aWVDYXJkLAogICAgVHZTaG93Q2FyZAogIH0sCiAgbmFtZTogJ0hvbWUnLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW1hZ2VfY29uZmlndXJhdGlvbjogbnVsbCwKICAgICAgbXlfbGlzdDogW10sCiAgICAgIGlzX215X2xpc3RfcmVhZHk6IGZhbHNlLAogICAgICBrZXk6ICdteS1tb3ZpZS1saXN0JwogICAgfTsKICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRDb25maWd1cmF0aW9uKCk7CiAgfSwKCiAgbWV0aG9kczogewogICAgZ2V0TXlMaXN0KCkgewogICAgICB2YXIgcmF3X2xpc3QgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLmtleSk7CgogICAgICBpZiAocmF3X2xpc3QpIHsKICAgICAgICB2YXIgbGlzdCA9IEpTT04ucGFyc2UocmF3X2xpc3QpOwogICAgICAgIHRoaXMubXlfbGlzdCA9IGxpc3Q7CiAgICAgICAgdGhpcy5pc19teV9saXN0X3JlYWR5ID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmlzX215X2xpc3RfcmVhZHkgPSB0cnVlOwogICAgICB9CiAgICB9LAoKICAgIGdldENvbmZpZ3VyYXRpb24oKSB7CiAgICAgIEFwaS5nZXQoYC9jb25maWd1cmF0aW9uYCkudGhlbihyZXMgPT4gewogICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGEuaW1hZ2VzOwogICAgICAgIHRoaXMuaW1hZ2VfY29uZmlndXJhdGlvbiA9IGRhdGE7CiAgICAgICAgdGhpcy5nZXRNeUxpc3QoKTsKICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgIH0sCgogICAgZ2VuZXJhdGVJbWFnZVVybChpbWFnZSwgYmlnKSB7CiAgICAgIHZhciBjb25maWcgPSB0aGlzLmltYWdlX2NvbmZpZ3VyYXRpb247CgogICAgICBpZiAoYmlnKSB7CiAgICAgICAgcmV0dXJuIGNvbmZpZy5iYXNlX3VybCArIGNvbmZpZy5wb3N0ZXJfc2l6ZXNbNV0gKyBpbWFnZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gY29uZmlnLmJhc2VfdXJsICsgY29uZmlnLnBvc3Rlcl9zaXplc1syXSArIGltYWdlOwogICAgICB9CiAgICB9LAoKICAgIHJlbW92ZUZyb21MaXN0KG1vdmllKSB7CiAgICAgIHZhciBhZGRlZF9saXN0ID0gdGhpcy5teV9saXN0OwoKICAgICAgaWYgKGFkZGVkX2xpc3QubGVuZ3RoID09IDEpIHsKICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLmtleSk7CiAgICAgICAgdGhpcy5teV9saXN0ID0gW107CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGluZGV4ID0gYWRkZWRfbGlzdC5maW5kSW5kZXgoaXRlbSA9PiB7CiAgICAgICAgICByZXR1cm4gaXRlbS5pZCA9PSBtb3ZpZS5pZDsKICAgICAgICB9KTsKICAgICAgICBhZGRlZF9saXN0LnNwbGljZShpbmRleCwgMSk7CiAgICAgIH0KICAgIH0KCiAgfQp9Ow=="},{"version":3,"mappings":"AA+BA;AACA;AACA;AACA;AAEA;EACAA;IACAC,UADA;IAEAC,SAFA;IAGAC;EAHA,CADA;EAMAC,YANA;;EAOAC;IACA;MACAC,yBADA;MAEAC,WAFA;MAGAC,uBAHA;MAIAC;IAJA;EAMA,CAdA;;EAeAC;IACA;EACA,CAjBA;;EAkBAC;IACAC;MACA;;MACA;QACA;QACA;QACA;MACA,CAJA,MAIA;QACA;MACA;IACA,CAVA;;IAWAC;MACAC,0BACAC,IADA,CACAC;QACA;QACA;QACA;MACA,CALA,EAMAC,KANA,CAMAC;QACAC;MACA,CARA;IASA,CArBA;;IAsBAC;MACA;;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA;IACA,CA7BA;;IA8BAC;MACA;;MACA;QACAC;QACA;MACA,CAHA,MAGA;QACA;UACA;QACA,CAFA;QAGAC;MACA;IAEA;;EA1CA;AAlBA","names":["components","CardLoader","MovieCard","TvShowCard","name","data","image_configuration","my_list","is_my_list_ready","key","created","methods","getMyList","getConfiguration","Api","then","res","catch","err","console","generateImageUrl","removeFromList","localStorage","added_list"],"sourceRoot":"src/views","sources":["MyList.vue"],"sourcesContent":["<template>\n  <div class=\"page-space\">\n    <div class=\"container\">\n      <h4 class=\"section-title\" v-if=\"my_list.length > 0\">\n        My List\n      </h4>\n      <div class=\"movies\" v-if=\"is_my_list_ready\">\n        <template v-if=\"my_list.length > 0\">\n          <template v-for=\"movie in my_list\">\n            <template v-if=\"movie.title\">\n              <MovieCard class=\"movie-card\" :movie=\"movie\" :image-configuration=\"image_configuration\"  :key=\"'mylist' + movie.id\" @removeFromList=\"removeFromList\"/>\n            </template>\n            <template v-else>\n              <TvShowCard class=\"movie-card\" :show=\"movie\" :image-configuration=\"image_configuration\"  :key=\"'mylist' + movie.id\"  @removeFromList=\"removeFromList\"/>\n            </template>\n          </template>\n        </template>\n        <template v-else>\n          <h3 class=\"my-5 text-secondary text-center\">\n            Your List is Empty\n          </h3>\n        </template>\n      </div>\n      <div v-else>\n        <CardLoader />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Api from '../api/Api';\nimport CardLoader from '../components/CardLoader.vue';\nimport MovieCard from '../components/MovieCard.vue';\nimport TvShowCard from '../components/TvShowCard.vue';\n\nexport default {\n  components: {\n    CardLoader,\n    MovieCard,\n    TvShowCard,\n  },\n  name: 'Home',\n  data() {\n    return{\n      image_configuration: null,\n      my_list: [],\n      is_my_list_ready: false,\n      key: 'my-movie-list'\n    }\n  },\n  created() {\n    this.getConfiguration()\n  },\n  methods: {\n    getMyList() {\n      var raw_list = localStorage.getItem(this.key)\n      if(raw_list) {\n        var list = JSON.parse(raw_list)\n        this.my_list = list\n        this.is_my_list_ready = true\n      }else{\n        this.is_my_list_ready = true\n      }\n    },\n    getConfiguration() {\n      Api.get(`/configuration`)\n          .then((res) => {\n              var data = res.data.images\n              this.image_configuration = data\n              this.getMyList()\n          })\n          .catch((err) => {\n              console.log(err)\n          })\n    },\n    generateImageUrl(image, big) {\n      var config = this.image_configuration\n      if(big){\n        return config.base_url + config.poster_sizes[5] + image\n      }else{\n        return config.base_url + config.poster_sizes[2] + image\n      }\n    },\n    removeFromList(movie) {\n      var added_list = this.my_list\n      if(added_list.length == 1){\n          localStorage.removeItem(this.key)\n          this.my_list = []\n      }else{\n          var index = added_list.findIndex((item)=>{\n              return item.id == movie.id\n          })\n          added_list.splice(index, 1)\n      }\n\n    }\n  }\n}\n</script>\n\n<style scoped>\n@media screen and (max-width: 720px) {\n  .page-space{\n    padding-top: 20px;\n  }\n}\n</style>"]}]}