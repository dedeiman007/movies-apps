{"remainingRequest":"/Users/user/Documents/dede/movies/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/user/Documents/dede/movies/src/views/MyList.vue?vue&type=style&index=0&id=ee116bb8&scoped=true&lang=css&","dependencies":[{"path":"/Users/user/Documents/dede/movies/src/views/MyList.vue","mtime":1656799241312},{"path":"/Users/user/Documents/dede/movies/node_modules/css-loader/dist/cjs.js","mtime":1656701001716},{"path":"/Users/user/Documents/dede/movies/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1656701024226},{"path":"/Users/user/Documents/dede/movies/node_modules/postcss-loader/src/index.js","mtime":1656701003507},{"path":"/Users/user/Documents/dede/movies/node_modules/cache-loader/dist/cjs.js","mtime":1656700998765},{"path":"/Users/user/Documents/dede/movies/node_modules/vue-loader/lib/index.js","mtime":1656701019304}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDcyMHB4KSB7CiAgLnBhZ2Utc3BhY2V7CiAgICBwYWRkaW5nLXRvcDogMjBweDsKICB9Cn0K"},{"version":3,"sources":["MyList.vue"],"names":[],"mappings":";AAsGA;AACA;AACA;AACA;AACA","file":"MyList.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"page-space\">\n    <div class=\"container\">\n      <h4 class=\"section-title\" v-if=\"my_list.length > 0\">\n        My List\n      </h4>\n      <div class=\"movies\" v-if=\"is_my_list_ready\">\n        <template v-if=\"my_list.length > 0\">\n          <template v-for=\"movie in my_list\">\n            <template v-if=\"movie.title\">\n              <MovieCard class=\"movie-card\" :movie=\"movie\" :image-configuration=\"image_configuration\"  :key=\"'mylist' + movie.id\" @removeFromList=\"removeFromList\"/>\n            </template>\n            <template v-else>\n              <TvShowCard class=\"movie-card\" :show=\"movie\" :image-configuration=\"image_configuration\"  :key=\"'mylist' + movie.id\"  @removeFromList=\"removeFromList\"/>\n            </template>\n          </template>\n        </template>\n        <template v-else>\n          <h3 class=\"my-5 text-secondary text-center\">\n            Your List is Empty\n          </h3>\n        </template>\n      </div>\n      <div v-else>\n        <CardLoader />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Api from '../api/Api';\nimport CardLoader from '../components/CardLoader.vue';\nimport MovieCard from '../components/MovieCard.vue';\nimport TvShowCard from '../components/TvShowCard.vue';\n\nexport default {\n  components: {\n    CardLoader,\n    MovieCard,\n    TvShowCard,\n  },\n  name: 'Home',\n  data() {\n    return{\n      image_configuration: null,\n      my_list: [],\n      is_my_list_ready: false,\n      key: 'my-movie-list'\n    }\n  },\n  created() {\n    this.getConfiguration()\n  },\n  methods: {\n    getMyList() {\n      var raw_list = localStorage.getItem(this.key)\n      if(raw_list) {\n        var list = JSON.parse(raw_list)\n        this.my_list = list\n        this.is_my_list_ready = true\n      }else{\n        this.is_my_list_ready = true\n      }\n    },\n    getConfiguration() {\n      Api.get(`/configuration`)\n          .then((res) => {\n              var data = res.data.images\n              this.image_configuration = data\n              this.getMyList()\n          })\n          .catch((err) => {\n              console.log(err)\n          })\n    },\n    generateImageUrl(image, big) {\n      var config = this.image_configuration\n      if(big){\n        return config.base_url + config.poster_sizes[5] + image\n      }else{\n        return config.base_url + config.poster_sizes[2] + image\n      }\n    },\n    removeFromList(movie) {\n      var added_list = this.my_list\n      if(added_list.length == 1){\n          localStorage.removeItem(this.key)\n          this.my_list = []\n      }else{\n          var index = added_list.findIndex((item)=>{\n              return item.id == movie.id\n          })\n          added_list.splice(index, 1)\n      }\n\n    }\n  }\n}\n</script>\n\n<style scoped>\n@media screen and (max-width: 720px) {\n  .page-space{\n    padding-top: 20px;\n  }\n}\n</style>"]}]}