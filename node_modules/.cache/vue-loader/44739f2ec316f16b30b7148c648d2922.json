{"remainingRequest":"/Users/user/Documents/dede/movies-apps/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/user/Documents/dede/movies-apps/src/views/Search.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/user/Documents/dede/movies-apps/src/views/Search.vue","mtime":1656700928743},{"path":"/Users/user/Documents/dede/movies-apps/node_modules/cache-loader/dist/cjs.js","mtime":1656700998765},{"path":"/Users/user/Documents/dede/movies-apps/node_modules/babel-loader/lib/index.js","mtime":1656701003546},{"path":"/Users/user/Documents/dede/movies-apps/node_modules/cache-loader/dist/cjs.js","mtime":1656700998765},{"path":"/Users/user/Documents/dede/movies-apps/node_modules/vue-loader/lib/index.js","mtime":1656701019304}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBBcGkgZnJvbSAnLi4vYXBpL0FwaSc7CmltcG9ydCBDYXJkTG9hZGVyIGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZExvYWRlci52dWUnOwppbXBvcnQgTW92aWVDYXJkIGZyb20gJy4uL2NvbXBvbmVudHMvTW92aWVDYXJkLnZ1ZSc7CmltcG9ydCBUdlNob3dDYXJkIGZyb20gJy4uL2NvbXBvbmVudHMvVHZTaG93Q2FyZC52dWUnOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIENhcmRMb2FkZXIsCiAgICBNb3ZpZUNhcmQsCiAgICBUdlNob3dDYXJkLAogIH0sCiAgbmFtZTogJ1NlYXJjaCcsCiAgZGF0YSgpIHsKICAgIHJldHVybnsKICAgICAgaW1hZ2VfY29uZmlndXJhdGlvbjogbnVsbCwKICAgICAgc2VhcmNoZWRfbW92aWVzOiBbXSwKICAgICAgaXNfc2VhcmNoZWRfbW92aWVzX3JlYWR5OiBmYWxzZSwKICAgICAgcXVlcnk6ICcnCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgICAnJHJvdXRlLnF1ZXJ5JzogZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYoT2JqZWN0LmtleXModGhpcy4kcm91dGUucXVlcnkpLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICB0aGlzLnF1ZXJ5ID0gdGhpcy4kcm91dGUucXVlcnkuc2VhcmNoCiAgICAgICAgICAgICAgdGhpcy5zZWFyY2hNb3ZpZSgpCiAgICAgICAgICB9CiAgICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRDb25maWd1cmF0aW9uKCkKICB9LAogIG1ldGhvZHM6IHsKICAgIHNlYXJjaE1vdmllKCkgewogICAgICAgIEFwaS5nZXQoYC9zZWFyY2gvbXVsdGlgLCB7CiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgcXVlcnk6IHRoaXMucXVlcnkKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGEucmVzdWx0cwogICAgICAgICAgICAgIHRoaXMuc2VhcmNoZWRfbW92aWVzID0gZGF0YQogICAgICAgICAgICAgIHRoaXMuaXNfc2VhcmNoZWRfbW92aWVzX3JlYWR5ID0gdHJ1ZQogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5pc19zZWFyY2hlZF9tb3ZpZXNfcmVhZHkgPSBmYWxzZQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycikKICAgICAgICAgIH0pCiAgICB9LAogICAgZ2V0Q29uZmlndXJhdGlvbigpIHsKICAgICAgQXBpLmdldChgL2NvbmZpZ3VyYXRpb25gKQogICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGEuaW1hZ2VzCiAgICAgICAgICAgICAgdGhpcy5pbWFnZV9jb25maWd1cmF0aW9uID0gZGF0YQogICAgICAgICAgICAgIHRoaXMucXVlcnkgPSB0aGlzLiRyb3V0ZS5xdWVyeS5zZWFyY2gKICAgICAgICAgICAgICB0aGlzLnNlYXJjaE1vdmllKCkKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycikKICAgICAgICAgIH0pCiAgICB9LAogICAgZ2VuZXJhdGVJbWFnZVVybChpbWFnZSwgYmlnKSB7CiAgICAgIHZhciBjb25maWcgPSB0aGlzLmltYWdlX2NvbmZpZ3VyYXRpb24KICAgICAgaWYoYmlnKXsKICAgICAgICByZXR1cm4gY29uZmlnLmJhc2VfdXJsICsgY29uZmlnLnBvc3Rlcl9zaXplc1s1XSArIGltYWdlCiAgICAgIH1lbHNlewogICAgICAgIHJldHVybiBjb25maWcuYmFzZV91cmwgKyBjb25maWcucG9zdGVyX3NpemVzWzJdICsgaW1hZ2UKICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["Search.vue"],"names":[],"mappings":";AAwBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Search.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"page-space\">\n    <div class=\"container\">\n      <h4 class=\"section-title\">\n        Result for '{{ this.query }}'\n      </h4>\n      <div class=\"movies\" v-if=\"is_searched_movies_ready\">\n        <template  v-for=\"movie in searched_movies\" >\n          <template v-if=\"movie.title\">\n            <MovieCard class=\"movie-card\" :movie=\"movie\" :image-configuration=\"image_configuration\"  :key=\"'searched' + movie.id\"/>\n          </template>\n          <template v-else>\n            <TvShowCard class=\"movie-card\" :show=\"movie\" :image-configuration=\"image_configuration\"  :key=\"'searched' + movie.id\"/>\n          </template>\n        </template>\n      </div>\n      <div v-else>\n        <CardLoader />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Api from '../api/Api';\nimport CardLoader from '../components/CardLoader.vue';\nimport MovieCard from '../components/MovieCard.vue';\nimport TvShowCard from '../components/TvShowCard.vue';\n\nexport default {\n  components: {\n    CardLoader,\n    MovieCard,\n    TvShowCard,\n  },\n  name: 'Search',\n  data() {\n    return{\n      image_configuration: null,\n      searched_movies: [],\n      is_searched_movies_ready: false,\n      query: ''\n    }\n  },\n  watch: {\n      '$route.query': function () {\n          if(Object.keys(this.$route.query).length > 0) {\n              this.query = this.$route.query.search\n              this.searchMovie()\n          }\n      },\n  },\n  created() {\n    this.getConfiguration()\n  },\n  methods: {\n    searchMovie() {\n        Api.get(`/search/multi`, {\n          params: {\n            query: this.query\n          }\n        })\n          .then((res) => {\n              var data = res.data.results\n              this.searched_movies = data\n              this.is_searched_movies_ready = true\n          })\n          .catch((err) => {\n              this.is_searched_movies_ready = false\n              console.log(err)\n          })\n    },\n    getConfiguration() {\n      Api.get(`/configuration`)\n          .then((res) => {\n              var data = res.data.images\n              this.image_configuration = data\n              this.query = this.$route.query.search\n              this.searchMovie()\n          })\n          .catch((err) => {\n              console.log(err)\n          })\n    },\n    generateImageUrl(image, big) {\n      var config = this.image_configuration\n      if(big){\n        return config.base_url + config.poster_sizes[5] + image\n      }else{\n        return config.base_url + config.poster_sizes[2] + image\n      }\n    }\n  }\n}\n</script>\n"]}]}