{"remainingRequest":"/Users/user/Documents/dede/movies-apps/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/user/Documents/dede/movies-apps/src/views/MyList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/user/Documents/dede/movies-apps/src/views/MyList.vue","mtime":1656799241312},{"path":"/Users/user/Documents/dede/movies-apps/node_modules/cache-loader/dist/cjs.js","mtime":1656700998765},{"path":"/Users/user/Documents/dede/movies-apps/node_modules/babel-loader/lib/index.js","mtime":1656701003546},{"path":"/Users/user/Documents/dede/movies-apps/node_modules/cache-loader/dist/cjs.js","mtime":1656700998765},{"path":"/Users/user/Documents/dede/movies-apps/node_modules/vue-loader/lib/index.js","mtime":1656701019304}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBBcGkgZnJvbSAnLi4vYXBpL0FwaSc7CmltcG9ydCBDYXJkTG9hZGVyIGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZExvYWRlci52dWUnOwppbXBvcnQgTW92aWVDYXJkIGZyb20gJy4uL2NvbXBvbmVudHMvTW92aWVDYXJkLnZ1ZSc7CmltcG9ydCBUdlNob3dDYXJkIGZyb20gJy4uL2NvbXBvbmVudHMvVHZTaG93Q2FyZC52dWUnOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIENhcmRMb2FkZXIsCiAgICBNb3ZpZUNhcmQsCiAgICBUdlNob3dDYXJkLAogIH0sCiAgbmFtZTogJ0hvbWUnLAogIGRhdGEoKSB7CiAgICByZXR1cm57CiAgICAgIGltYWdlX2NvbmZpZ3VyYXRpb246IG51bGwsCiAgICAgIG15X2xpc3Q6IFtdLAogICAgICBpc19teV9saXN0X3JlYWR5OiBmYWxzZSwKICAgICAga2V5OiAnbXktbW92aWUtbGlzdCcKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldENvbmZpZ3VyYXRpb24oKQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0TXlMaXN0KCkgewogICAgICB2YXIgcmF3X2xpc3QgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLmtleSkKICAgICAgaWYocmF3X2xpc3QpIHsKICAgICAgICB2YXIgbGlzdCA9IEpTT04ucGFyc2UocmF3X2xpc3QpCiAgICAgICAgdGhpcy5teV9saXN0ID0gbGlzdAogICAgICAgIHRoaXMuaXNfbXlfbGlzdF9yZWFkeSA9IHRydWUKICAgICAgfWVsc2V7CiAgICAgICAgdGhpcy5pc19teV9saXN0X3JlYWR5ID0gdHJ1ZQogICAgICB9CiAgICB9LAogICAgZ2V0Q29uZmlndXJhdGlvbigpIHsKICAgICAgQXBpLmdldChgL2NvbmZpZ3VyYXRpb25gKQogICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGEuaW1hZ2VzCiAgICAgICAgICAgICAgdGhpcy5pbWFnZV9jb25maWd1cmF0aW9uID0gZGF0YQogICAgICAgICAgICAgIHRoaXMuZ2V0TXlMaXN0KCkKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycikKICAgICAgICAgIH0pCiAgICB9LAogICAgZ2VuZXJhdGVJbWFnZVVybChpbWFnZSwgYmlnKSB7CiAgICAgIHZhciBjb25maWcgPSB0aGlzLmltYWdlX2NvbmZpZ3VyYXRpb24KICAgICAgaWYoYmlnKXsKICAgICAgICByZXR1cm4gY29uZmlnLmJhc2VfdXJsICsgY29uZmlnLnBvc3Rlcl9zaXplc1s1XSArIGltYWdlCiAgICAgIH1lbHNlewogICAgICAgIHJldHVybiBjb25maWcuYmFzZV91cmwgKyBjb25maWcucG9zdGVyX3NpemVzWzJdICsgaW1hZ2UKICAgICAgfQogICAgfSwKICAgIHJlbW92ZUZyb21MaXN0KG1vdmllKSB7CiAgICAgIHZhciBhZGRlZF9saXN0ID0gdGhpcy5teV9saXN0CiAgICAgIGlmKGFkZGVkX2xpc3QubGVuZ3RoID09IDEpewogICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5rZXkpCiAgICAgICAgICB0aGlzLm15X2xpc3QgPSBbXQogICAgICB9ZWxzZXsKICAgICAgICAgIHZhciBpbmRleCA9IGFkZGVkX2xpc3QuZmluZEluZGV4KChpdGVtKT0+ewogICAgICAgICAgICAgIHJldHVybiBpdGVtLmlkID09IG1vdmllLmlkCiAgICAgICAgICB9KQogICAgICAgICAgYWRkZWRfbGlzdC5zcGxpY2UoaW5kZXgsIDEpCiAgICAgIH0KCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["MyList.vue"],"names":[],"mappings":";AA+BA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"MyList.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"page-space\">\n    <div class=\"container\">\n      <h4 class=\"section-title\" v-if=\"my_list.length > 0\">\n        My List\n      </h4>\n      <div class=\"movies\" v-if=\"is_my_list_ready\">\n        <template v-if=\"my_list.length > 0\">\n          <template v-for=\"movie in my_list\">\n            <template v-if=\"movie.title\">\n              <MovieCard class=\"movie-card\" :movie=\"movie\" :image-configuration=\"image_configuration\"  :key=\"'mylist' + movie.id\" @removeFromList=\"removeFromList\"/>\n            </template>\n            <template v-else>\n              <TvShowCard class=\"movie-card\" :show=\"movie\" :image-configuration=\"image_configuration\"  :key=\"'mylist' + movie.id\"  @removeFromList=\"removeFromList\"/>\n            </template>\n          </template>\n        </template>\n        <template v-else>\n          <h3 class=\"my-5 text-secondary text-center\">\n            Your List is Empty\n          </h3>\n        </template>\n      </div>\n      <div v-else>\n        <CardLoader />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Api from '../api/Api';\nimport CardLoader from '../components/CardLoader.vue';\nimport MovieCard from '../components/MovieCard.vue';\nimport TvShowCard from '../components/TvShowCard.vue';\n\nexport default {\n  components: {\n    CardLoader,\n    MovieCard,\n    TvShowCard,\n  },\n  name: 'Home',\n  data() {\n    return{\n      image_configuration: null,\n      my_list: [],\n      is_my_list_ready: false,\n      key: 'my-movie-list'\n    }\n  },\n  created() {\n    this.getConfiguration()\n  },\n  methods: {\n    getMyList() {\n      var raw_list = localStorage.getItem(this.key)\n      if(raw_list) {\n        var list = JSON.parse(raw_list)\n        this.my_list = list\n        this.is_my_list_ready = true\n      }else{\n        this.is_my_list_ready = true\n      }\n    },\n    getConfiguration() {\n      Api.get(`/configuration`)\n          .then((res) => {\n              var data = res.data.images\n              this.image_configuration = data\n              this.getMyList()\n          })\n          .catch((err) => {\n              console.log(err)\n          })\n    },\n    generateImageUrl(image, big) {\n      var config = this.image_configuration\n      if(big){\n        return config.base_url + config.poster_sizes[5] + image\n      }else{\n        return config.base_url + config.poster_sizes[2] + image\n      }\n    },\n    removeFromList(movie) {\n      var added_list = this.my_list\n      if(added_list.length == 1){\n          localStorage.removeItem(this.key)\n          this.my_list = []\n      }else{\n          var index = added_list.findIndex((item)=>{\n              return item.id == movie.id\n          })\n          added_list.splice(index, 1)\n      }\n\n    }\n  }\n}\n</script>\n\n<style scoped>\n@media screen and (max-width: 720px) {\n  .page-space{\n    padding-top: 20px;\n  }\n}\n</style>"]}]}